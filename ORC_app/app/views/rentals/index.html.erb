<p id="notice"><%= notice %></p>

<h1>Listing Rentals</h1>
<p>
  This page displays all currently rented items.
</p>
<p>
  <a href="http://localhost:3000/users">View Users</a>
  <a href="http://localhost:3000/inventories">View Inventory</a>
</p>


<table>
  <thead>
    <tr>
      <th>Renter First Name|</th>
      <th>Renter Last Name|</th>
      <th>Gear Type|</th>
      <th>Brand|</th>
      <th>Model|</th>
      <th>Rental date |</th>
      <th>Return date |</th>
      <th>Days used |</th>
      <th>On time price |</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @rentals.each do |rental| %>
      <tr>
        <td><%= rental.first_name%></td>
        <td><%= rental.last_name%></td>
        <td><%= rental.Gear_Type %></td>
        <td><%= rental.Model %></td>
        <td><%= rental.Brand %></td>
        <td><%= rental.rental_date %></td>
        <td><%= rental.return_date %></td>
        <td><%= rental.days_used %></td>
        <td><%= rental.on_time_price %></td>
        <td><%= link_to 'Show', rental %></td>
        <td><%= link_to 'Destroy', rental, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%= link_to 'New Rental', new_rental_path%>
<%= link_to 'Search Rentals', search_find_path%>

<div class="search">
  <h1 class="search">Search</h1>
  <%= form_tag rentals_path, :method => :get, :id => 'filter_form' do %>
    <div class="grid-container">
      <% Rental.all_filters.each do |filt| %>
        <div class="<%= filt %>_label">
          <%= filt %>
        </div>
        <div class="<%= filt %>_select">
          <%= select_tag filt, options_for_select(Rental.unique_options(filt), :selected => params[filt]), :include_blank => true %>
        </div>
      <% end %>
    </div>
    <%= submit_tag 'Search' %>
    <%= submit_tag 'Clear' %>
  <% end %>
</div>

